(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[566],{226:(e,t,r)=>{Promise.resolve().then(r.bind(r,1175))},6046:(e,t,r)=>{"use strict";var s=r(6658);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},1175:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(5155),a=r(2115),n=r(6046),i=r(4595),o=r(1582),c=r.n(o);let l=["Business","Startups","AI","Networking","Creative Work","Love","Friends","Consultancy"];function u(){let e=(0,n.useRouter)(),t="true"===(0,n.useSearchParams)().get("update"),[r,o]=(0,a.useState)(!0),[u,d]=(0,a.useState)(1),[p,_]=(0,a.useState)({name:"",gender:"",interests:[]}),[g,h]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{let r=i.j.currentUser;if(!r){e.push("/login");return}if(t){let e=await fetch("http://localhost:5000/api/auth/check-user/".concat(r.uid));if(e.ok){let t=await e.json();_({name:t.name||"",gender:t.gender||"",interests:t.interests||[]})}}o(!1)}catch(e){console.error("Error fetching profile:",e),o(!1)}})()},[t,e]);let m=async()=>{if(1===u?p.name.trim().length>0:2===u?""!==p.gender:3===u&&p.interests.length>0){if(3===u)try{let r=i.j.currentUser;if(!r){e.push("/login");return}let s=t?"update-profile":"complete-onboarding";(await fetch("http://localhost:5000/api/auth/".concat(s),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firebaseUid:r.uid,...p})})).ok&&e.push("/discovery")}catch(e){console.error("Error saving profile:",e)}else d(u+1)}},v=e=>{_(t=>({...t,interests:t.interests.includes(e)?t.interests.filter(t=>t!==e):[...t.interests,e]}))};return r?(0,s.jsxs)("div",{className:c().container,children:[(0,s.jsx)("div",{className:c().overlay}),(0,s.jsx)("div",{className:"text-white text-center",children:"Loading..."})]}):(0,s.jsxs)("div",{className:c().container,children:[(0,s.jsx)("div",{className:c().overlay}),(0,s.jsxs)("div",{className:c().card,children:[g&&(0,s.jsx)("div",{className:c().error,children:g}),(0,s.jsx)("div",{className:c().brandSection,children:(0,s.jsx)("h1",{className:c().title,children:t?"Update Your Profile":"Complete Your Profile"})}),(0,s.jsx)("div",{className:c().progressBar,children:[1,2,3].map(e=>(0,s.jsx)("div",{className:"".concat(c().progressStep," ").concat(e<=u?c().progressStepActive:"")},e))}),(0,s.jsxs)("div",{className:c().stepCounter,children:["Step ",u," of 3"]}),1===u&&(0,s.jsxs)("div",{className:c().formGroup,children:[(0,s.jsx)("h2",{className:c().title,children:"What's your name?"}),(0,s.jsx)("input",{type:"text",className:c().input,placeholder:"Enter your name",value:p.name,onChange:e=>_({...p,name:e.target.value})})]}),2===u&&(0,s.jsxs)("div",{className:c().formGroup,children:[(0,s.jsx)("h2",{className:c().title,children:"Select your gender"}),(0,s.jsx)("div",{className:c().genderGrid,children:["male","female","other"].map(e=>(0,s.jsx)("button",{className:"".concat(c().genderButton," ").concat(p.gender===e?c().genderButtonActive:""),onClick:()=>_({...p,gender:e}),children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),3===u&&(0,s.jsxs)("div",{className:c().formGroup,children:[(0,s.jsx)("h2",{className:c().title,children:"Select your interests"}),(0,s.jsx)("div",{className:c().interestsContainer,children:l.map(e=>(0,s.jsx)("button",{className:"".concat(c().interestButton," ").concat(p.interests.includes(e)?c().interestButtonActive:""),onClick:()=>v(e),children:e},e))})]}),(0,s.jsxs)("div",{className:c().navigation,children:[u>1&&(0,s.jsx)("button",{onClick:()=>{d(u-1)},className:c().backButton,children:"← Back"}),(0,s.jsxs)("button",{onClick:m,className:c().nextButton,children:[3===u?"Finish":"Next"," →"]})]})]})]})}},4595:(e,t,r)=>{"use strict";r.d(t,{j:()=>i});var s=r(9904),a=r(4565);let n=(0,s.Wp)({apiKey:"AIzaSyD72HmBTrehu6RqAwfH14n37nbgSoSiF4c",authDomain:"brewnet-dd55e.firebaseapp.com",projectId:"brewnet-dd55e",storageBucket:"brewnet-dd55e.firebasestorage.app",messagingSenderId:"720864557324",appId:"1:720864557324:web:b7f4b2419dc12753503129"}),i=(0,a.xI)(n)},1582:e=>{e.exports={container:"page_container__TY_AG",overlay:"page_overlay__VEuMD",card:"page_card__uhCMr",brandSection:"page_brandSection__uVSUW",progressBar:"page_progressBar__ideH1",progressStep:"page_progressStep__xQcTK",progressStepActive:"page_progressStepActive__uLLeQ",formGroup:"page_formGroup__7Qxua",input:"page_input__EJawM",genderGrid:"page_genderGrid__HOvEg",genderButton:"page_genderButton__sx6vQ",genderButtonActive:"page_genderButtonActive__fuLxI",interestsContainer:"page_interestsContainer__AEfeR",interestButton:"page_interestButton__apLT4",interestButtonActive:"page_interestButtonActive__DMUw7",navigation:"page_navigation__x2tpS",backButton:"page_backButton___lhDS",nextButton:"page_nextButton___XYFQ",title:"page_title__iT65E",stepCounter:"page_stepCounter__4V24h",error:"page_error__UQ53q"}}},e=>{var t=t=>e(e.s=t);e.O(0,[457,895,803,441,517,358],()=>t(226)),_N_E=e.O()}]);