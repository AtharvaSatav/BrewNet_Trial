(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{1538:(e,t,a)=>{Promise.resolve().then(a.bind(a,7527))},7527:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var o=a(5155),n=a(5565),s=a(2115),r=a(6046),i=a(4595),l=a(4565),g=a(8676),c=a.n(g);function d(){let e=(0,r.useRouter)(),[t,a]=(0,s.useState)(null),[g,d]=(0,s.useState)(!1),u=async()=>{try{d(!0),a(null);let t=new l.HF,o=await (0,l.df)(i.j,t),n=await o.user.getIdToken(),s=await fetch("http://localhost:5000/api/auth/verify-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n})});if(!s.ok)throw Error("Authentication failed");(await s.json()).needsOnboarding?e.push("/onboarding"):e.push("/discovery")}catch(e){console.error("Sign-in error:",e),a("Failed to sign in. Please try again.")}finally{d(!1)}};return(0,o.jsxs)("div",{className:c().container,children:[(0,o.jsx)("div",{className:c().overlay}),(0,o.jsxs)("div",{className:c().card,children:[(0,o.jsx)("h1",{className:c().title,children:"Welcome to BrewNet"}),(0,o.jsx)("p",{className:c().subtitle,children:"Connect with coffee lovers"}),t&&(0,o.jsx)("div",{className:c().error,children:t}),(0,o.jsxs)("button",{onClick:u,disabled:g,className:c().googleButton,children:[!g&&(0,o.jsx)(n.default,{src:"/google-logo.svg",alt:"Google",width:20,height:20,className:c().googleLogo}),g?"Signing in...":"Continue with Google"]})]})]})}},4595:(e,t,a)=>{"use strict";a.d(t,{j:()=>r});var o=a(9904),n=a(4565);let s=(0,o.Wp)({apiKey:"AIzaSyD72HmBTrehu6RqAwfH14n37nbgSoSiF4c",authDomain:"brewnet-dd55e.firebaseapp.com",projectId:"brewnet-dd55e",storageBucket:"brewnet-dd55e.firebasestorage.app",messagingSenderId:"720864557324",appId:"1:720864557324:web:b7f4b2419dc12753503129"}),r=(0,n.xI)(s)},8676:e=>{e.exports={container:"page_container__zagmD",overlay:"page_overlay__w5RQM",card:"page_card__wnoHP",title:"page_title__QV6iH",subtitle:"page_subtitle__FWR3R",button:"page_button__XvIaA",googleButton:"page_googleButton__Hsn02",googleLogo:"page_googleLogo__tEkna",error:"page_error__oj9FT"}}},e=>{var t=t=>e(e.s=t);e.O(0,[771,895,803,738,441,517,358],()=>t(1538)),_N_E=e.O()}]);